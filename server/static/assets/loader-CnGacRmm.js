import{d as r,o as l,f as v,F as f,h as d,x as c,y as h,z as k,A as i}from"./index-Cad0GPWs.js";const p={key:0},_={key:0},y={__name:"Curtain",props:["done","error"],setup(o){return(e,t)=>o.done?(l(),r(f,{key:1},[o.error?(l(),r("div",_," Something went wrong.. ")):v(e.$slots,"default",{key:1})],64)):(l(),r("div",p,"Loading..."))}};function w(o){const e=d(),t=d(),u=async a=>(await o(a)).json();function n(a){e.value={done:!1},u(a).then(s=>{e.value={done:!0},t.value=s}).catch(s=>e.value={done:!0,error:s})}return n(i()),c(a=>n(a)),{status:e,data:t}}function g(o){const e=d(),t=h(null);function u(n){let a=o(n);e.value={done:!1},a.addEventListener("open",()=>{e.value={done:!0}}),a.addEventListener("error",s=>{e.value={done:!0,error:s}}),t.value=a}return c(n=>{t.value.close(),t.value=null,u(n)}),k(()=>{t.value.close()}),u(i()),{status:e,socket:t}}export{y as _,g as a,w as u};
